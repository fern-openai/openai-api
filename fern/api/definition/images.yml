# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  commons: commons.yml

service:
  auth: true
  base-path: /images
  endpoints:
    create:
      path: /generations
      method: POST
      display-name: Creates an image given a prompt.
      request:
        body: CreateImageRequest
      response: ImagesResponse

    createImageEdit:
      path: /edits
      method: POST
      display-name: >-
        Creates an edited or extended image given an original image and a
        prompt.
      response: ImagesResponse

    createImageVariation:
      path: /variations
      method: POST
      display-name: Creates a variation of a given image.
      response: ImagesResponse

types:
  CreateImageRequest:
    properties:
      prompt:
        docs: >-
          A text description of the desired image(s). The maximum length is 1000
          characters.
        type: string
      n:
        docs: The number of images to generate. Must be between 1 and 10.
        type: optional<integer>
      size:
        docs: >-
          The size of the generated images.
        type: optional<Size>
      response_format:
        docs: >-
          The format in which the generated images are returned.
        type: optional<ImageFormat>
      user:
        docs: >
          A unique identifier representing your end-user, which can help OpenAI
          to monitor and detect abuse. [Learn
          more](/docs/guides/safety-best-practices/end-user-ids).
        type: optional<string>

  Size:
    docs: >-
      The size of the generated images.
    enum:
      - value: 256x256
        name: two_hundred_fifty_six
      - value: 512x512
        name: five_hundred_twelve
      - value: 1024x1024
        name: one_thousand_twenty_four

  ImageFormat:
    docs: >-
      The format in which the generated images are returned.
    enum:
      - url
      - b64_json

  ImagesResponse:
    properties:
      created: integer
      data: list<ImageData>

  ImageData:
    properties:
      url: optional<string>
      b64_json: optional<string>